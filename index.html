<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VoicePick - Auth</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 简单的淡入动画 */
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-blue-50">

    <div id="authContainer" class="bg-white shadow-xl rounded-xl p-8 w-80 text-center z-50">
        <div class="mb-4">
            <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                </svg>
            </div>
            <h2 class="text-xl font-bold text-gray-800">Identity Verify</h2>
            <p class="text-sm text-gray-500 mt-1">Please enter the access code</p>
        </div>
        <input type="password" id="codeInput" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center tracking-widest" placeholder="••••">
        <p id="errorMsg" class="text-red-500 text-xs mt-2 hidden">Invalid code, try again.</p>
        <button id="verifyBtn" class="w-full mt-4 bg-blue-600 text-white py-2 rounded-lg font-semibold hover:bg-blue-700 transition">Verify</button>
    </div>

    <div id="mainContent" class="hidden fade-in bg-white shadow-lg rounded-xl p-6 w-96 text-center">
        <h1 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2">VoicePick</h1>

        <audio id="audio" class="w-full my-3" controls></audio>

        <button id="showTextBtn" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition">
            Show Text
        </button>
        <p id="text" class="hidden text-gray-700 font-semibold mt-4 p-2 bg-gray-50 rounded"></p>

        <div class="mt-6 flex justify-center">
            <button id="randomBtn" class="bg-green-500 text-white px-6 py-2 rounded-md hover:bg-green-600 transition font-medium">New Question</button>
        </div>
    </div>

    <script>
        // --- 核心配置 ---
        const CORRECT_CODE = "2026"; // 你可以修改这个字符串作为新密码
        
        // 音频文件列表
        const files = [
            "Can you introduce your family to us.mp3",
            "Could you tell us something about your hometown.mp3",
            "Please introduce your undergraduate school life .mp3",
            "Why did you take the postgraduate entrance examination.mp3",
            "Why do you want to study in our school .mp3",
            "your shortcomings.mp3",
            "your advantages.mp3",
            "What kind of personality do you think you have .mp3",
            "What kind of books do you enjoy reading.mp3",
            "What is the deepest thing in your memory.mp3",
            "What is your favorite subject .mp3",
            "Why do you choose this major.mp3",
            "What will you do if you failed this time.mp3",
            "What would like to do five years after graduation .mp3",
            "What do you think are the necessary qualities that one should have.mp3",
            "Have you taken any exams related to your major.mp3",
            "What do you like and dislike about your school life.mp3",
            "Can you tell us something about your graduation paper thesis dissertation .mp3",
            "What kind of teachers do you think are qualified to be supervisors .mp3",
            "Can you tell us something about your graduation paper.mp3",
            "If only one option is given to you, do you want to choose the life direction of specialization or divergence.mp3",
            "Which discipline do you think has promoted social progress .mp3",
            "What did you do during the holiday.mp3",
            "What do you think of chatgpt.mp3",
            "What is your favorite city？.mp3",
            "What abilities graduate students need to possess.mp3",
            "Have you participated in any activities or clubs in the university, and what have you obtained.mp3",
            "Talk about the traditional culture of your hometown.mp3",
            "What to do if the project encounters difficulties .mp3",
            "What is your biggest fear.mp3",
            "Why not choose your undergraduate school.mp3",
            "What do you think should be paid attention to in teamwork .mp3",
            "Which do you think is better, qq or WeChat.mp3",
            "How will you face the challenge.mp3",
            "What is your favorite computer game.mp3",
            "What kind of job do you like Tell me three reasons.mp3",
            "What are the customs and activities during the Spring Festival.mp3",
            "You can share the difficulties you encountered once and how to solve them.mp3",
            "What do you regret most.mp3"
        ];

        // --- 验证逻辑 ---
        const authContainer = document.getElementById("authContainer");
        const mainContent = document.getElementById("mainContent");
        const codeInput = document.getElementById("codeInput");
        const verifyBtn = document.getElementById("verifyBtn");
        const errorMsg = document.getElementById("errorMsg");

        function handleVerify() {
            if (codeInput.value === CORRECT_CODE) {
                authContainer.classList.add("hidden");
                mainContent.classList.remove("hidden");
                loadRandomAudio(); // 验证成功后加载第一个音频
            } else {
                errorMsg.classList.remove("hidden");
                codeInput.value = "";
                codeInput.focus();
            }
        }

        verifyBtn.addEventListener("click", handleVerify);
        
        // 支持回车键验证
        codeInput.addEventListener("keypress", (e) => {
            if (e.key === "Enter") handleVerify();
        });

        // --- 原有业务逻辑 ---
        function loadRandomAudio() {
            if (files.length === 0) return;
            const randomFile = files[Math.floor(Math.random() * files.length)];
            document.getElementById("audio").src = `audio/${randomFile}`;
            document.getElementById("text").innerText =  randomFile.replace(/\.mp3$/, "") + "?";
            document.getElementById("text").classList.add("hidden");
            document.getElementById("showTextBtn").innerText = "Show Text";
        }

        document.getElementById("showTextBtn").addEventListener("click", () => {
            const textElem = document.getElementById("text");
            if (textElem.classList.contains("hidden")) {
                textElem.classList.remove("hidden");
                document.getElementById("showTextBtn").innerText = "Hide Text";
            } else {
                textElem.classList.add("hidden");
                document.getElementById("showTextBtn").innerText = "Show Text";
            }
        });

        document.getElementById("randomBtn").addEventListener("click", loadRandomAudio);
    </script>
</body>
</html>